# Идемпотентность

## Описание

В этом задании вам доступен класс IdempotencyAccounts, который содержит методы зачисления и снятия денег с банковского
аккаунта. Информация об аккаунте хранится в базе данных, доступ к которой обеспечивается через AccountRepository.
Необходимо реализовать идемпотентность методов класса, учитывая при этом работу приложения в нескольких экземплярах в
многопоточной среде.

## Мотивация

Технические проблемы, такие как обрывы сетевого соединения или сбой в работе приложения клиента, могут стать причиной
повторяющихся запросов на пополнение или снятие денег с баланса аккаунта. Повторные запросы без обеспечения
идемпотентности могут привести к дублированию операций, то есть к потере консистентности баланса аккаунта.
Поэтому реализация идемпотентности методов важна для защиты системы от нежелательных последствий, стабильной и
безопасной работы.

## Задача

Вам необходимо разработать механизм идемпотентности для методов зачисления и снятия денег с банковского аккаунта, чтобы
гарантировать надежную работу при повторных запросах. В качестве возможного варианта используйте следующий подход —
проверьте обработку транзакции и верните ее результат, если она уже была выполнена. Важно учитывать, что приложение
работает в многопоточной среде, а также может быть запущено в нескольких экземплярах, поэтому необходимо обеспечить
синхронизацию и учитывать race conditions.

Вы можете протестировать свое решение с помощью класса IdempotencyTest.

## Отправка задания

Для отправки задания необходимо выполнить следующие действия.

1. Скопировать код из репозитория с домашним заданием в ветку task_3.
2. Создать ветку task_3_solving, которая будет веткой от task_3, для решения.
3. После выполнения задания необходимо создать pull request для слияния ветки task_3_solving в ветку task_3.
4. Добавить меня в качестве ревьюера.

## Ресурсы

- [Идемпотентность](https://ru.wikipedia.org/wiki/%D0%98%D0%B4%D0%B5%D0%BC%D0%BF%D0%BE%D1%82%D0%B5%D0%BD%D1%82%D0%BD%D0%BE%D1%81%D1%82%D1%8C)